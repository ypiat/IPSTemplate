@using IPSTemplate.BusinessLibrary.BO.Book;
@using IPSTemplate.BusinessLibrary.BO.BookCopy;
@using IPSTemplate.Dal.Models;
@using IPSTemplate.UI.Blazor.Features.Borrowings;




<IPSDataList Borders=DataListBorders.All>
    <IPSDataItem>
        <IPSDataItemValue><strong>Številka kopije</strong></IPSDataItemValue>
        <IPSDataItemValue><strong>Naslov</strong></IPSDataItemValue>
        <IPSDataItemValue><strong>Leto izdaje</strong></IPSDataItemValue>
        <IPSDataItemValue><strong>Založba</strong></IPSDataItemValue>
        <IPSDataItemValue><strong>Lokacja</strong></IPSDataItemValue>
        <IPSDataItemValue><strong>Stanje</strong></IPSDataItemValue>
        <AuthorizeView Roles="Member" >
            <IPSDataItemValue></IPSDataItemValue>
        </AuthorizeView>
    </IPSDataItem>
    @foreach (TEBookCopyInfo BookCopy in @Book.BookCopies)
    {
        <IPSDataItem>
            <IPSDataItemValue>@BookCopy.BookCopyNumber</IPSDataItemValue>
            <IPSDataItemValue>@BookCopy.BookName</IPSDataItemValue>
            <IPSDataItemValue>@BookCopy.PublishedYear</IPSDataItemValue>
            <IPSDataItemValue>@BookCopy.PublisherName</IPSDataItemValue>
            <IPSDataItemValue>@BookCopy.Location</IPSDataItemValue>
            @if (@BookCopy.Status == "Na voljo")
            {
                <IPSDataItemValue><span style="color: #19B698">@BookCopy.Status</span></IPSDataItemValue>
                <AuthorizeView Roles="Member" >
                    <IPSDataItemValue><IPSButton Size=ButtonSize.Small Color="Color.Success" OnClick=@(() => BorrowClicked.InvokeAsync(BookCopy))>Izposodi</IPSButton></IPSDataItemValue>
                </AuthorizeView>
            }
            else
            {
                <IPSDataItemValue><span style="color: #EA6153">@BookCopy.Status</span></IPSDataItemValue>
                <AuthorizeView Roles="Member">
                    <IPSDataItemValue></IPSDataItemValue>
                </AuthorizeView>
            }

        </IPSDataItem>
    }
</IPSDataList>